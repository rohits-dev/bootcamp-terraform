# Automatically created from terraform data on
all:
  vars:
    ansible_connection: ssh
    ansible_user: ubuntu
    ansible_become: true
    ansible_ssh_private_key_file: rohit.pem
    ssl_enabled: true
    jmxexporter_enabled: true

    ssl_provided_keystore_and_truststore: true
    ssl_keystore_filepath: "~/feb-2022/ssl/{{inventory_hostname}}-keystore.jks"
    ssl_keystore_key_password: changeme
    ssl_keystore_store_password: changeme
    ssl_truststore_filepath: "~/feb-2022/ssl/kafka-truststore.jks"
    ssl_truststore_password: changeme
    ssl_truststore_ca_cert_alias: root-ca
    # force recreation so that certs gets exported on /var/ssl/private/
    regenerate_keystore_and_truststore: true
    # let the certs error be logged, dont set for production, only good for troubleshooting
    mask_secrets: false

    #
    # Kerberos settings
    #
    kerberos_kafka_broker_primary: kafka
    kerberos_configure: true
    kerberos:
      realm: bootcamp-europe.confluent.io
      kdc_hostname: ip-172-30-22-248.eu-west-1.compute.internal
      admin_hostname: ip-172-30-22-248.eu-west-1.compute.internal
      canonicalize: false
    sasl_protocol: kerberos
    zookeeper_sasl_protocol: kerberos

    #### Configuring Role Based Access Control ####
    ## To have CP-Ansible configure Components for RBAC and create necessary role bindings, set these mandatory variables:
    ## Note: Confluent components will be configured to connect to the "internal" listener automatically
    ## DO NOT UPDATE the internal listener
    ## Note: It is recommended to create an additional listener for external clients, but the interbroker listener would also work
    ## Note: An authentication mode must be selected on all listeners, for example (ssl_enabled=false and ssl_mutual_auth_enabled=false) or sasl_protocol=none is not supported.
    rbac_enabled: true
    ##
    ## LDAP Users
    ## Note: Below users must already exist in your LDAP environment.  See kafka_broker vars, for LDAP connection details.
    mds_super_user: admin
    mds_super_user_password: admin-secret
    kafka_broker_ldap_user: kafka
    kafka_broker_ldap_password: kafka-secret
    schema_registry_ldap_user: schemaregistry
    schema_registry_ldap_password: schemaregistry-secret
    kafka_connect_ldap_user: connect
    kafka_connect_ldap_password: connect-secret
    ksql_ldap_user: ksql
    ksql_ldap_password: ksql-secret
    kafka_rest_ldap_user: rest
    kafka_rest_ldap_password: rest-secret
    control_center_ldap_user: controlcenter
    control_center_ldap_password: controlcenter-secret
    ## Below are optional variables
    create_mds_certs: false # To provide your own MDS Certs set this variable and the next two
    token_services_public_pem_file: /home/ubuntu/feb-2022/mds-certs/mds.pub
    token_services_private_pem_file: /home/ubuntu/feb-2022/mds-certs/mds

    #### End of Configuration

    kafka_broker_custom_properties:
      ldap.java.naming.factory.initial: com.sun.jndi.ldap.LdapCtxFactory
      ldap.com.sun.jndi.ldap.read.timeout: 3000
      ldap.java.naming.provider.url: ldap://ip-172-30-22-248.eu-west-1.compute.internal:389
      ldap.java.naming.security.principal: admin@BOOTCAMP-EUROPE.CONFLUENT.IO
      ldap.java.naming.security.credentials: admin-secret
      ldap.java.naming.security.authentication: simple
      ldap.user.search.base: OU=Kafka,DC=BOOTCAMP-EUROPE,DC=CONFLUENT,DC=IO
      ldap.user.search.object.class: user
      ldap.group.search.base: OU=Groups,OU=Kafka,DC=BOOTCAMP-EUROPE,DC=CONFLUENT,DC=IO
      ldap.authorizer.group.search.scope: 2
      ldap.authorizer.user.search.scope: 2
      ldap.search.mode: USERS
      ldap.user.name.attribute: sAMAccountName
      ldap.user.memberof.attribute: memberOf
      ldap.user.memberof.attribute.pattern: CN=(.*),OU=Groups,OU=Kafka,DC=BOOTCAMP-EUROPE,DC=CONFLUENT,DC=IO
      ldap.group.name.attribute: cn
      ldap.group.member.attribute.pattern: CN=(.*),OU=Users,OU=Kafka,DC=BOOTCAMP-EUROPE,DC=CONFLUENT,DC=IO
      ldap.user.object.class: user

zookeeper:
  hosts:
    ip-172-30-23-66.eu-west-1.compute.internal:
      zookeeper_kerberos_keytab_path: /home/ubuntu/feb-2022/kerberos/zookeeper-ip-172-30-23-66.keytab
      zookeeper_kerberos_principal: zookeeper/ip-172-30-23-66.eu-west-1.compute.internal@BOOTCAMP-EUROPE.CONFLUENT.IO
    ip-172-30-22-217.eu-west-1.compute.internal:
      zookeeper_kerberos_keytab_path: /home/ubuntu/feb-2022/kerberos/zookeeper-ip-172-30-22-217.keytab
      zookeeper_kerberos_principal: zookeeper/ip-172-30-22-217.eu-west-1.compute.internal@BOOTCAMP-EUROPE.CONFLUENT.IO
    ip-172-30-27-93.eu-west-1.compute.internal:
      zookeeper_kerberos_keytab_path: /home/ubuntu/feb-2022/kerberos/zookeeper-ip-172-30-27-93.keytab
      zookeeper_kerberos_principal: zookeeper/ip-172-30-27-93.eu-west-1.compute.internal@BOOTCAMP-EUROPE.CONFLUENT.IO

kafka_broker:
  hosts:
    ip-172-30-19-241.eu-west-1.compute.internal:
      kafka_broker_kerberos_keytab_path: /home/ubuntu/feb-2022/kerberos/kafka-ip-172-30-19-241.keytab
      kafka_broker_kerberos_principal: kafka/ip-172-30-19-241.eu-west-1.compute.internal@BOOTCAMP-EUROPE.CONFLUENT.IO
    ip-172-30-27-71.eu-west-1.compute.internal:
      kafka_broker_kerberos_keytab_path: /home/ubuntu/feb-2022/kerberos/kafka-ip-172-30-27-71.keytab
      kafka_broker_kerberos_principal: kafka/ip-172-30-27-71.eu-west-1.compute.internal@BOOTCAMP-EUROPE.CONFLUENT.IO
    ip-172-30-19-221.eu-west-1.compute.internal:
      kafka_broker_kerberos_keytab_path: /home/ubuntu/feb-2022/kerberos/kafka-ip-172-30-19-221.keytab
      kafka_broker_kerberos_principal: kafka/ip-172-30-19-221.eu-west-1.compute.internal@BOOTCAMP-EUROPE.CONFLUENT.IO
    ip-172-30-21-129.eu-west-1.compute.internal:
      kafka_broker_kerberos_keytab_path: /home/ubuntu/feb-2022/kerberos/kafka-ip-172-30-21-129.keytab
      kafka_broker_kerberos_principal: kafka/ip-172-30-21-129.eu-west-1.compute.internal@BOOTCAMP-EUROPE.CONFLUENT.IO

schema_registry:
  hosts:
    ip-172-30-23-4.eu-west-1.compute.internal:
      schema_registry_kerberos_keytab_path: /home/ubuntu/feb-2022/kerberos/schemaregistry-ip-172-30-23-4.keytab
      schema_registry_kerberos_principal: schemaregistry/ip-172-30-23-4.eu-west-1.compute.internal@BOOTCAMP-EUROPE.CONFLUENT.IO
    ip-172-30-28-145.eu-west-1.compute.internal:
      schema_registry_kerberos_keytab_path: /home/ubuntu/feb-2022/kerberos/schemaregistry-ip-172-30-28-145.keytab
      schema_registry_kerberos_principal: schemaregistry/ip-172-30-28-145.eu-west-1.compute.internal@BOOTCAMP-EUROPE.CONFLUENT.IO

kafka_rest:
  hosts:
    ip-172-30-30-59.eu-west-1.compute.internal:
      kafka_rest_kerberos_keytab_path: /home/ubuntu/feb-2022/kerberos/rest-ip-172-30-30-59.keytab
      kafka_rest_kerberos_principal: rest/ip-172-30-30-59.eu-west-1.compute.internal@BOOTCAMP-EUROPE.CONFLUENT.IO

ksql:
  hosts:
    ip-172-30-26-119.eu-west-1.compute.internal:
      ksql_kerberos_keytab_path: /home/ubuntu/feb-2022/kerberos/ksql-ip-172-30-26-119.keytab
      ksql_kerberos_principal: ksql/ip-172-30-26-119.eu-west-1.compute.internal@BOOTCAMP-EUROPE.CONFLUENT.IO
    ip-172-30-25-85.eu-west-1.compute.internal:
      ksql_kerberos_keytab_path: /home/ubuntu/feb-2022/kerberos/ksql-ip-172-30-25-85.keytab
      ksql_kerberos_principal: ksql/ip-172-30-25-85.eu-west-1.compute.internal@BOOTCAMP-EUROPE.CONFLUENT.IO

kafka_connect:
  hosts:
    ip-172-30-25-242.eu-west-1.compute.internal:
      kafka_connect_kerberos_keytab_path: /home/ubuntu/feb-2022/kerberos/connect-ip-172-30-25-242.keytab
      kafka_connect_kerberos_principal: connect/ip-172-30-25-242.eu-west-1.compute.internal@BOOTCAMP-EUROPE.CONFLUENT.IO
    ip-172-30-20-237.eu-west-1.compute.internal:
      kafka_connect_kerberos_keytab_path: /home/ubuntu/feb-2022/kerberos/connect-ip-172-30-20-237.keytab
      kafka_connect_kerberos_principal: connect/ip-172-30-20-237.eu-west-1.compute.internal@BOOTCAMP-EUROPE.CONFLUENT.IO

control_center:
  hosts:
    ip-172-30-30-186.eu-west-1.compute.internal:
      control_center_kerberos_keytab_path: /home/ubuntu/feb-2022/kerberos/controlcenter-ip-172-30-30-186.keytab
      control_center_kerberos_principal: controlcenter/ip-172-30-30-186.eu-west-1.compute.internal@BOOTCAMP-EUROPE.CONFLUENT.IO
